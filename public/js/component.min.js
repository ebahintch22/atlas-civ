var parseTime,timeParse,opera_console=function(){new Intl.NumberFormat;return{_log:function(e){$("#opera-sys-message").html(e)},addLog:function(e,t=""){var a=`<div ${"success"==t?'style = "font-weight: bold; color: green;"':"fail"==t?'style = "font-weight: bold; color: red;"':'style = "font-weight: regular; color: white;"'}><span> ${function(e){if(window.Intl){var t=new window.Intl.DateTimeFormat("fr-FR");return e=new Date(e),t.format(e)}return e}(Date.now())} : </span><span> ${e}</span> </div>`;$("#opera-sys-message").append(a)},clearlog:function(){$("#opera-sys-message").html("")},explain:function(){return"I am a simple on line console for development mode"}}}(),UTIL=function(){var e=new Intl.NumberFormat;return{format_number:function(t){return e.format(t)},format_number_in_object:function(t){var a={};for(var n in t)t.hasOwnProperty(n)&&(0==n.indexOf("FLD",0)?a[n]=e.format(t[n]):a[n]=t[n]);return a}}}();function fileLoad_JSON(e,t,a){d3.json(t,function(e,t){return t.sort(function(e,t){return parseTime(e.date)-parseTime(t.date)}),t.forEach(function(e){e.date_raw=e.date,e.date=parseTime(e.date),e.new_case=+e.new_case,e.new_healed=+e.new_healed,e.new_deceased=+e.new_deceased,e.sum_case=+e.sum_case,e.sum_healed=+e.sum_healed,e.sum_deceased=+e.sum_deceased,e.active_case=+e.sum_case-e.sum_healed-e.sum_deceased,e.nb_sample=+e.nb_sample,e.sum_sample=+e.sum_sample,e.incidence=100*+e.incidence}),a(t),t})}function fileLoad_CSV(e,t,a,n){d3.csv(t,function(e){return{CODE:e.CODE,ADM_NAME:e.ADM_NAME,GEOLOC:e.GEOLOC,LEVEL:e.LEVEL,FLD1:+e.FLD1,FLD2:+e.FLD2,FLD3:+e.FLD3,FLD4:+e.FLD4,FLD5:+e.FLD5,FLD6:+e.FLD6,FLD7:+e.FLD7,FLD8:+e.FLD8,FLD9:+e.FLD9,FLD10:+e.FLD10,FLD11:+e.FLD11,FLD12:+e.FLD12}},function(e,t){e?(console.log("erreur rencontrées"),n(e)):(console.log("chargement réussie"),a(t))})}function format_statistic_tables(e){var t=d3.nest().key(function(e){return e.LEVEL}).rollup(function(e){return e}).map(e);t.REGION,t.DISTRICT;return table_region=d3.nest().key(function(e){return e.CODE}).rollup(function(e){return e[0]}).map(t.REGION),table_district=d3.nest().key(function(e){return e.CODE}).rollup(function(e){return e[0]}).map(t.DISTRICT),{district:table_district,region:table_region,region_raw:t.REGION,district_raw:t.DISTRICT}}function set_time_config(){dateFormat=d3.time.format("%d/%m/%Y"),parseTime=dateFormat.parse}function tooltip_getPointSet(e=120,t=80,a=5,n=10){return w1=Math.trunc(e/2)-a,{ttip_pts:`0,0 0,${t} ${w1},${t} ${w1+a},${t+n} ${w1+2*a},${t} ${e},${t} ${e},0 0,0`,ttip_translate:`translate(-${w1+a},-${t+n+5})`,txt_translate:`translate(-${w1+a-10},-${t+n-10})`,tleBox_pts:`0,0 0,17 ${e-6},17 ${e-6},0 0,0`,tleBox_translate:`translate(-${w1+a-3},-${t+n+3})`}}function addTooltip(e,t=120,a=80,n=5,r=10){var o=e.append("g").attr("id","tooltip").style("display","none");o.append("circle").attr("fill","#CCE5F6").attr("r",10),o.append("circle").attr("fill","#3498db").attr("stroke","#fff").attr("stroke-width","1.5px").attr("r",4);var s=tooltip_getPointSet(t,a,n,r);o.append("polyline").attr("points",s.ttip_pts).style("fill","#fafafa").style("stroke","#3498db").style("opacity","0.9").style("stroke-width","1").attr("transform",s.ttip_translate),o.append("polyline").attr("points",s.tleBox_pts).style("fill","#a8ddb5").style("stroke","#3498db").style("opacity","0.9").style("stroke-width","0").attr("transform",s.tleBox_translate);var l=o.append("text").style("font-size","11px").style("font-family","Segoe UI").style("color","#333333").style("fill","#333333").attr("transform",s.txt_translate);return l.append("tspan").attr("dx","-5").attr("id","tooltip-date").style("font-weight","bold"),l.append("tspan").style("fill","#3498db").attr("x","0").attr("dy","15").text("●"),l.append("tspan").attr("dx","5").text("Nb total de cas: "),l.append("tspan").attr("id","tooltip-close").style("font-weight","bold"),l.append("tspan").style("fill","#3498db").attr("x","0").attr("dy","15").text("●"),l.append("tspan").attr("dx","5").text("Nvx décès: "),l.append("tspan").attr("id","tooltip-duration").style("font-weight","bold"),l.append("tspan").style("fill","#3498db").attr("x","0").attr("dy","15").text("●"),l.append("tspan").attr("dx","5").text("Nb total de décès: "),l.append("tspan").attr("id","tooltip-distance").style("font-weight","bold"),l.append("tspan").style("fill","#3498db").attr("x","0").attr("dy","15").text("●"),l.append("tspan").attr("dx","5").text("Total de guéris: "),l.append("tspan").attr("id","tooltip-energy").style("font-weight","bold"),o}function sysecho(e,t){"object"==typeof t&&(t=JSON.stringify(t)),console.log(e+":"+t)}set_time_config(),$("#mySelect").on("changed.bs.select",function(e,t,a,n){let r=$("#mySelect").selectpicker("val");VAR_DESC=APP_CONF.vars[t-1],VAR_NAME=VAR_DESC.name,console.log(`\n   \tIndex: ${t} , \n   \tState: ${a}, \n   \tCurrent value: ${r}, \n    Varname: ${VAR_NAME},\n  \tPrevious value: ${n||"(vide)"}\n   \t`),grahicChart.setVariable(VAR_DESC)});var default_table_selection=function(){return"demographic"===this.name?'selected = "selected"':""},default_field_selection=function(){return"FLD1"===this.fld_name?'selected = "selected"':""};function get_renderer(e,t,a,n=[]){var r=t;return{count:e,threshold:0==r.length?r:function(e,t,a){var n=(a-t)/(0==e?10:e);return d3.range(t,a,n).map(function(e){return Math.round(e)})}(e,t[0],t[1]),colormap:function(e,t="#ffffff",a="#000000"){var n=d3.scale.linear().domain([0,e]).interpolate(d3.interpolateRgb).range([d3.rgb(t),d3.rgb(a)]);return new Array(e+1).fill("0").map(function(e,t){return n(t)})}(e,a[0],a[1]),value_range:o(t),color_range:o(a),labelmap:o(n),source:"auto"};function o(e){return e.map(function(e){return e})}}function build_colormap(e,t="#ffffff",a="#000000"){var n=d3.scale.linear().domain([0,e-1]).interpolate(d3.interpolateRgb).range([d3.rgb(t),d3.rgb(a)]);return new Array(e).fill("0").map(function(e,t){return n(t)})}var include_button_input,upcoming_function,DEFAULT_PARSER={id_field:"CODE",name_field:"ADM_NAME",class_field:"LEVEL",classes:[{ord:1,value:"REGION",layer:"region_sante"},{ord:2,value:"DISTRICT",layer:"district_sante"}]},COVID_PARSER={id_field:"CODE",name_field:"ADM_NAME",class_field:"LEVEL",classes:[{ord:1,value:"DISTRICT",layer:"district_admin"},{ord:2,value:"REGION",layer:"region_admin"}]},metaDataBase={data_base_name:"Atlas Sanitaire - Côte d'Ivoire  - RASS 2017 version 1.0.5",version:"2.0",date:"21/05/2020",geo_dataset:{name:"district_sante",class:"Districts sanitaire",label:"Découpage en <b> districts sanitaires (83)</b>",path:"./data/geojson/health/civ-district-sante.geojson"},geo_datasets:[{id:"layer-1",name:"region_sante",names:{value:"Région sanitaire",many:"Régions sanitaires",abbr:"RS."},label:"Découpage en régions sanitaires (20)",path:"./data/geojson/health/civ-region-sante.geojson",idfield:"code_R",labelField:"Region_S"},{id:"layer-2",name:"district_sante",names:{value:"District sanitaire",many:"Districts sanitaires",abbr:"DS."},label:"Découpage en districts sanitaires (83)",path:"./data/geojson/health/civ-district-sante.geojson",idfield:"code",labelField:"District_S"},{id:"layer-3",name:"district_admin",names:{value:"District administratif",many:"Districts administratifs",abbr:"Dst."},label:"Découpage en districts administratifs (14)",path:"./data/geojson/tmp/civ-adm1-district-r2.geojson",idfield:"code",labelField:"admin1Name"},{id:"layer-4",name:"region_admin",names:{value:"Région administrative",many:"Régions administratives",abbr:"Rgn."},label:"Découpage en régions administratives (33)",path:"./data/geojson/tmp/civ-adm2-region-r2.geojson",idfield:"admin2Pcod",labelField:"admin2Name"}],tables:["demographic","human_ressource","ratio_prestataire_pop","repartition_etabliss_sante","ratio_hrsn_espc_pop","other_material","tech_platform","ratio_ambulance_structure_sante","repartition_struct_transfusion","std","covid-19"],color_palettes:[{name:"YlGnBu"},{name:"YlOrRd"},{name:"Purples"},{name:"PuBu"},{name:"BrBG"},{name:"Greys"}],table_selected:default_table_selection,table_details:[{index:17,name:"covid-19",valid:!0,table_num:"Tableau-99",layerList:["region_admin","district_admin"],label:"0- Incidence nationale de la COVID-19",unit:"nombre de cas",article:"de ",path:"./data/statistics/tab_99_covid.csv",source:"DIIS/INS",data_parser:COVID_PARSER,renderer:{source:"manual",threshold:[1,4,10,100],colormap:["#ffffff","#ffbfbf","#ff8080","#dd4040","#660000"],labelmap:["Aucun cas","Incidence faible","Incidence Moyenne","Incidence forte","Epicentre"],legendtitle:"Incidence de la Covid-19 (nb. cas confirmés)"},layout:"COVID",color_palette:"YlOrRd",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:"Nb de cas confirmés",long_name:" Nombre de cas confirmés de COVID-19",data_type:"INT",unit:"cas confirmés"}]},{index:1,valid:!0,name:"demographic",layerList:["district_sante","region_sante"],table_num:"Tableau-DD",label:"1- Données de population (2017)",unit:"population",article:"de ",path:"./data/statistics/tab_01_demography.csv",source:"INS-2017",data_parser:DEFAULT_PARSER,renderer:get_renderer(9,[],["white","red"]),color_palette:"YlGnBu",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:"Population totale 2017",long_name:"Population totale 2017",data_type:"INT",unit:"habitants"},{fld_name:"FLD2",short_name:"Population 0 à 11 mois",long_name:"Population 0 à 11 mois",data_type:"INT",unit:"habitants"},{fld_name:"FLD3",short_name:"Population 0 à 4 ans",long_name:"Population 0 à 4 ans",data_type:"INT",unit:"habitants"},{fld_name:"FLD4",short_name:"Population de moins de 15 ans",long_name:"Population de moins de 15 ans",data_type:"INT",unit:"habitants"},{fld_name:"FLD5",short_name:"Population de 15 ans et plus",long_name:"Population de 15 ans et plus",data_type:"INT",unit:"habitants"},{fld_name:"FLD6",short_name:"Nb. de femmes en âge de procréer",long_name:"Femme en âge de procréer",data_type:"INT",unit:"FAP"},{fld_name:"FLD7",short_name:"Nb. de grossesses attendues",long_name:"Grossesses attendues",data_type:"INT",unit:"grossesses attendues"},{fld_name:"FLD8",short_name:"Nb. de naissances attendues",long_name:"Naissances attendues",data_type:"INT",unit:"naissances attendues"},{fld_name:"FLD9",short_name:"Nb. de Complications obstétricales attendues",long_name:"Complications obstétricales attendues",data_type:"INT",unit:"cas de complication attendus"}]},{index:2,valid:!0,name:"human_ressource",layerList:["district_sante","region_sante"],table_num:"Tableau-5",label:"2- Ressources des systèmes de santé - Personnel",unit:"effectif",article:"d'",path:"./data/statistics/tab_05_human_res.csv",source:"DRH/Ministère de la Santé et de l’Hygiène Publique",data_parser:DEFAULT_PARSER,renderer:get_renderer(5,[],["white","red"]),color_palette:"YlOrRd",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:"Eff. total des médécins (DRH)",long_name:"Effectif des médécins",data_type:"INT",unit:"médecin(s)"},{fld_name:"FLD2",short_name:"Eff. chirugien-Dentistes",long_name:"Effectif des churigiens dentistes",data_type:"INT",unit:"chirugien-dentiste(s)"},{fld_name:"FLD3",short_name:"Eff. de pharmaciens",long_name:"Effectif des pharmaciens",data_type:"INT",unit:"pharmacien(s)"},{fld_name:"FLD4",short_name:"Eff. en infirmiers diplômés d'état",long_name:"Effectif des infirmiers diplômés d'état",data_type:"INT",unit:"infirmier(s)"},{fld_name:"FLD5",short_name:"Eff. d'infirmiers spécialistes",long_name:"Effectif des infirmiers spécialistes",data_type:"INT",unit:"infirmier(s)"},{fld_name:"FLD6",short_name:"Nb total d'infirmier (DRH)",long_name:"Effectif total des infirmiers",data_type:"INT",unit:"infirmiers"},{fld_name:"FLD7",short_name:"Eff. des sage-femme diplômées d'état",long_name:"Effectif des sages-femmes diplômées d'état",data_type:"INT",unit:"sage(s)-femme(s)"},{fld_name:"FLD8",short_name:"Eff. des sage-femme spécialisées",long_name:"Effectif des sages-femmes spécialistes",data_type:"INT",unit:"sage(s) femme(s)"},{fld_name:"FLD9",short_name:"Eff. total sage-femme (DRH)",long_name:"Effectif total des sages-femmes",data_type:"INT",unit:"sage(s-femme(s)"},{fld_name:"FLD10",short_name:"Eff. techniciens Sup. en santé",long_name:"Effectif des techniciens supérieurs en santé",data_type:"INT",unit:"Tehnicien(s) supérieur(s)"},{fld_name:"FLD11",short_name:"Ingénieurs en santé",long_name:"Effectif des ingénieurs de santé",data_type:"INT",unit:"ingénieur(s) en santé"},{fld_name:"FLD12",short_name:"Aides Soignants",long_name:"Effectif des aides soignants",data_type:"INT",unit:"aides soignants"}]},{index:3,valid:!0,name:"ratio_prestataire_pop",layerList:["district_sante","region_sante"],table_num:"Tableau 6",label:"3- Ratio Prestataires de soins - Population",unit:"nombre",article:"de ",path:"./data/statistics/tab_06_ratio_prestataire_pop.csv",source:"DIIS/INS",data_parser:DEFAULT_PARSER,renderer:get_renderer(5,[],["white","orange"]),color_palette:"BrBG",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:"Ratio Population/Médecin",long_name:" Ratio Population par Médecin",data_type:"INT",unit:"habitants par médecin",show_unit:!0},{fld_name:"FLD2",short_name:"Ratio Médecin/Population",long_name:" Ratio Médecin par Population",data_type:"INT",unit:"médecins pour 10 000 habitants",show_unit:!0},{fld_name:"FLD3",short_name:"Ratio population/Infirmier",long_name:" Ratio population par Infirmier",data_type:"INT",unit:"habitants par infirmier",show_unit:!0},{fld_name:"FLD4",short_name:"Ratio Infirmier/Population",long_name:" Ratio Infirmier par population",data_type:"INT",unit:"infirmiers pour 5 000 habitants",show_unit:!0},{fld_name:"FLD5",short_name:"Ratio FAP/Sage-femme",long_name:" Ratio Femme en âge de reproduction par Sage-femme",data_type:"INT",unit:"FAP par sage-femme",show_unit:!0},{fld_name:"FLD6",short_name:"Ratio Sage-femme/FAP",long_name:" Ratio Sagefemme par Femme en âge de reproduction",data_type:"INT",unit:"sage-femme pour 3 300 FAP",show_unit:!0}]},{index:4,valid:!0,name:"repartition_etabliss_sante",layerList:["district_sante","region_sante"],table_num:"Tableau-7",label:"4- Ressources des systèmes de santé - Etablissements",unit:"nombre",article:"de ",path:"./data/statistics/tab_07_repartition_etabliss_sante.csv",source:"DIIS/INS",data_parser:DEFAULT_PARSER,renderer:get_renderer(5,[],["white","orange"]),color_palette:"YlGnBu",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:"Nombre d'ESPC Ruraux",long_name:"Etablissements sanitaires de premier contact (Ruraux)",data_type:"INT",unit:"ESPC Ruraux"},{fld_name:"FLD2",short_name:"Nombre d'ESPC Urbain",long_name:"Etablissements sanitaires de premier contact (Urbains)",data_type:"INT",unit:"ESPC urbains"},{fld_name:"FLD3",short_name:"ESPC (total)",long_name:"Nombre total d'établissements sanitaires de premier contact",data_type:"INT",unit:"ESPC"},{fld_name:"FLD4",short_name:"Hopitaux Généraux Publics",long_name:"Hôpitaux généraux Public",data_type:"INT",unit:"hôpitaux publics"},{fld_name:"FLD5",short_name:"HG Privé Confessionnel",long_name:"Hôpitaux généraux privé confessionnel",data_type:"INT",unit:"hôpitaux"},{fld_name:"FLD6",short_name:"Hopitaux Généraux (total)",long_name:"Total HG",data_type:"INT",unit:"Hôpitaux généraux"},{fld_name:"FLD7",short_name:"Nombre de CHR",long_name:" Centres hospitaliers régionaux (CHR)",data_type:"INT",unit:"CHR"},{fld_name:"FLD8",short_name:"Total Hôpitaux de références",long_name:"Nombre total Hôpitaux de références (Publics + Privés + Confessionnels)",data_type:"INT",unit:"Hôpitaux de référence"},{fld_name:"FLD9",short_name:"Nb de centres CHU",long_name:" Centres hospitaliers universitaires (CHU)",data_type:"INT",unit:"CHU"},{fld_name:"FLD10",short_name:"Nb de services de Maternité",long_name:" Service de Maternité",data_type:"INT",unit:"service(s) de maternité"},{fld_name:"FLD11",short_name:"Nb de pharmacies publiques",long_name:" Pharmacie publique",data_type:"INT",unit:"pharmacie(s) publique(s)"},{fld_name:"FLD12",short_name:"Nb de pharmacies privées",long_name:" Pharmacie privée",data_type:"INT",unit:"pharmacie(s) privée(s)"},{fld_name:"FLD13",short_name:"Nb Total de structures Sanitaires (ESPC, HG, CHR et CHU)",long_name:" Total Structures Sanitaires (ESPC, HG, CHR et CHU)",data_type:"INT",unit:"établissements"},{fld_name:"FLD14",short_name:"Total Structures Sanitaires (ESPC, HG, CHR)",long_name:" Total Structures Sanitaires (ESPC, HG, CHR)",data_type:"INT",unit:"établissements"}]},{index:5,valid:!0,name:"ratio_hrsn_espc_pop",layerList:["district_sante","region_sante"],table_num:"Tableau-8",label:"5- Ratio établissements de santé/Population",unit:"nombre",article:"de ",path:"./data/statistics/tab_08_ratio_hrsn_espc_pop.csv",source:"DIIS/INS",data_parser:DEFAULT_PARSER,renderer:get_renderer(5,[],["white","green"]),color_palette:"YlGnBu",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:"Ratio Population - ESPC",long_name:" Ratio Population par Etablissement Sanitaire de Premier Contact",data_type:"INT",unit:"habitants pour un ESPC",show_unit:!0},{fld_name:"FLD2",short_name:"Ratio ESPC - Population",long_name:" Ratio Etablissement Sanitaire de Premier Contact pour 10 000 habitants",data_type:"INT",unit:"ESPC pour 10 000 habitants",show_unit:!0},{fld_name:"FLD3",short_name:"Ratio Population - Hôpital de référence",long_name:" Ratio Population pour 1 Hôpital de référence",data_type:"INT",unit:"habitants par hôpital de réf.",show_unit:!0},{fld_name:"FLD4",short_name:"Ratio Hôpital de référence - Population",long_name:" Ratio Hôpital de référence pour 150 000 habitants",data_type:"INT",unit:"hôpitaux pour 150 000 habitants",show_unit:!0}]},{index:6,valid:!0,name:"other_material",layerList:["district_sante","region_sante"],table_num:"Tableau-9",label:"6- Autres ressources materielles (2017)",unit:"nombre",article:"de ",path:"./data/statistics/tab_09_other_material.csv",data_parser:DEFAULT_PARSER,renderer:get_renderer(5,[],["white","blue"]),source:"DIIS/INS",color_palette:"YlGnBu",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:"Nb de véhicules",long_name:"Nombre de véhicules",data_type:"INT",unit:"véhicule(s)"},{fld_name:"FLD2",short_name:"Nb d'ambulances",long_name:"Nombre d'ambulances ",data_type:"INT",unit:"ambulance(s)"},{fld_name:"FLD3",short_name:"Nb de motos",long_name:"Nombre de motos 2017",data_type:"INT",unit:"moto(s)"},{fld_name:"FLD4",short_name:"Nb d'ordinateurs",long_name:" Ordinateurs ",data_type:"INT",unit:"ordinateur(s)"},{fld_name:"FLD5",short_name:"Nb de réfrigérateurs",long_name:" Refrigerateur ",data_type:"INT",unit:"réfrigérateur(s)"},{fld_name:"FLD6",short_name:"Nb de congélateurs",long_name:"Nombre de congélateurs",data_type:"INT",unit:"congélateur(s)"}]},{index:7,valid:!0,name:"tech_platform",layerList:["district_sante","region_sante"],table_num:"Tableau-10",label:"7- Plateaux techniques et équipements (2017)",unit:"nombre",article:"de ",path:"./data/statistics/tab_10_tech_platform.csv",source:"DIIS/INS",data_parser:DEFAULT_PARSER,renderer:get_renderer(5,[],["white","blue"]),color_palette:"YlGnBu",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:"Nb total labo. d'analyse",long_name:"Nombre de laboratoires d'analyse existants",data_type:"INT",unit:"laboratoire(s)"},{fld_name:"FLD2",short_name:"Nb labo. d'analyse fonctionnels",long_name:"Nombre de laboratoires d'analyse fonctionnels",data_type:"INT",unit:"laboratoire(s)"},{fld_name:"FLD3",short_name:"Nb labo. d'analyse non Fonctionnels",long_name:"Nombre de laboratoires d'analyse non fonctionnels",data_type:"INT",unit:"laboratoire(s)"},{fld_name:"FLD4",short_name:"Nb total blocs Opér.",long_name:"Nombre de blocs opératoires existant",data_type:"INT",unit:"bloc(s)"},{fld_name:"FLD5",short_name:"Nb blocs Opér. fonctionnels",long_name:"Nombre de blocs opératoires fonctionnels",data_type:"INT",unit:"bloc(s)"},{fld_name:"FLD6",short_name:"Nb blocs Opér. non fonctionnels",long_name:"Nombre de blocs opératoires non fonctionnels",data_type:"INT",unit:"blocs opératoire(s)"},{fld_name:"FLD7",short_name:"Nb total de services radio.",long_name:"Nombre de services de radiologie existants",data_type:"INT",unit:"service(s)"},{fld_name:"FLD8",short_name:"Nb services radio fonctionnels",long_name:"Nombre de services de radiologie fonctionnels",data_type:"INT",unit:"service(s)"},{fld_name:"FLD9",short_name:"Nb service radio non fonctionnels",long_name:"Nombre de services de radiologie non fonctionnels",data_type:"INT",unit:"service(s)"},{fld_name:"FLD10",short_name:"Nb total Cab dentaires",long_name:"Nombre de cabinets dentaires existant",data_type:"INT",unit:"Nombre de cabinets"},{fld_name:"FLD11",short_name:"Nb cab dentaires fonctionnels",long_name:"Nombre de cabinets dentaires onctionnels",data_type:"INT",unit:"Cabinet(s)"},{fld_name:"FLD12",short_name:"Nb cab dentaires non fonctionnels ",long_name:"Nombre de cabinets dentaires non fonctionnels ",data_type:"INT",unit:"cabinet(s)"}]},{index:8,valid:!0,name:"ratio_ambulance_structure_sante",table_num:"Tableau-11",layerList:["region_sante","district_sante"],label:"8- Ratio ambulance par nombre de structure de soin (tab 11)",unit:"nombre",article:"de ",path:"./data/statistics/tab_11_ratio_ambulance_structure_sante.csv",source:"DIIS/INS",data_parser:DEFAULT_PARSER,renderer:get_renderer(10,[],["white","violet"]),color_palette:"Purples",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:"Total Structures Sanitaires (ESPC,HG, CHR)",long_name:" Total Structures Sanitaires (ESPC,HG, CHR)",data_type:"INT",unit:"Nombre"},{fld_name:"FLD2",short_name:"Nb Ambulances (2017)",long_name:" Nb total d'ambulances en 2017",data_type:"INT",unit:"Nombre"},{fld_name:"FLD3",short_name:"Ratio Ambulances / Structures de soins",long_name:" Ratio Ambulances par Structures de soins (ESPC, HG et CHR)",data_type:"INT",unit:"ratio"},{fld_name:"FLD4",short_name:"Ratio structures de soins pour une Ambulances",long_name:" Ratio nombre de structures de soins (ESPC, HG et CHR) pour une Ambulances",data_type:"INT",unit:"ratio"}]},{index:9,valid:!1,name:"repartition_struct_transfusion",layerList:["region_sante","district_sante"],table_num:"Tableau-12",adminlevels:["district","region"],label:"9- Répartition géographique des dépôts/banques de sang (tab. 12)",unit:"nombre",article:"de ",path:"./data/statistics/tab_12_repartition_structure_transfusion.csv",source:"DIIS/INS",data_parser:DEFAULT_PARSER,renderer:get_renderer(5,[],["white","blue"]),color_palette:"YlGnBu",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:"Nombre de CTS",long_name:"Nombre de Centre de Transfusion Sanguine",data_type:"INT",unit:"nombre"},{fld_name:"FLD2",short_name:"Nombre de ATS",long_name:"Nombre d'Antenne de Transfusion Sanguine",data_type:"INT",unit:"nombre"},{fld_name:"FLD3",short_name:"Nombre de dépôts/Banques de sang",long_name:"Nombre de dépôts/Banques de sang",data_type:"INT",unit:"nombre"}]},{index:10,valid:!1,name:"xxxxxxxxxxxxxxxxx",table_num:"Tableau-13",layerList:["region_sante","district_sante"],adminlevels:["region","district"],label:"xxxxxx",unit:"Données du tableau 13",article:"de ",path:"./data/statistics/tab_xx_axxxxxxx.csv",source:"DIIS/INS",data_parser:DEFAULT_PARSER,renderer:get_renderer(5,[],["white","blue"]),color_palette:"YlGnBu",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:"Population à moins de 5 km d'un centre de santé (%)",long_name:"Population à moins de 5 km d'un centre de santé (%)",data_type:"INT",unit:"nombre"},{fld_name:"FLD2",short_name:"Population entre 5 et 15 km d'un centre de santé (%)",long_name:"Population entre 5 et 15 km d'un centre de santé (%)",data_type:"INT",unit:"nombre"},{fld_name:"FLD3",short_name:"Population au délà de 15 km d'un centre de santé (%)",long_name:"Population au délà de 15 km d'un centre de santé (%)",data_type:"INT",unit:"nombre"},{fld_name:"FLD4",short_name:"Population au délà de 5 km d'un centre de santé (%)",long_name:"Population au délà de 5 km d'un centre de santé (%)",data_type:"INT",unit:"nombre"}]},{index:11,name:"std",valid:!1,table_num:"Tableau-45",layerList:["region_sante","district_sante"],adminlevels:["region","district"],label:"Maladies sexuellement transmissibles",unit:"cas déclaré(s)",article:"de ",path:"./data/statistics/tab_45_std.csv",source:"Ministère de la Santé et de l’Hygiène Publique",data_parser:DEFAULT_PARSER,renderer:get_renderer(5,[],["white","blue"]),color_palette:"Purples",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:" 10-14 ans (F)",long_name:" 10-14 ans (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD2",short_name:" 10-14 ans (M)",long_name:" 10-14 ans (M)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD3",short_name:" 15-24 ans (F)",long_name:" 15-24 ans (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD4",short_name:" 15-24 ans (M)",long_name:" 15-24 ans (M)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD5",short_name:" 25-49 ans (F)",long_name:" 25-49 ans (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD6",short_name:" 25-49 ans (M)",long_name:" 25-49 ans (M)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD7",short_name:" 50 ans et plus (F)",long_name:" 50 ans et plus (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD8",short_name:" 50 ans et plus (M)",long_name:" 50 ans et plus (M)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD9",short_name:" Total cas d’écoulement génital ",long_name:" Total de cas d’écoulement génital (urétral /vaginal) diagnostiqués",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD10",short_name:" 10-14 ans (F)",long_name:" 10-14 ans (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD11",short_name:" 10-14 ans (M)",long_name:" 10-14 ans (M)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD12",short_name:" 15-24 ans (F)",long_name:" 15-24 ans (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD13",short_name:" 15-24 ans (M)",long_name:" 15-24 ans (M)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD14",short_name:" 25-49 ans (F)",long_name:" 25-49 ans (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD15",short_name:" 25-49 ans (M)",long_name:" 25-49 ans (M)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD16",short_name:" 50 ans et plus (F)",long_name:" 50 ans et plus (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD17",short_name:" 50 ans et plus (M)",long_name:" 50 ans et plus (M)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD18",short_name:" Total cas d’ulcération génitale",long_name:" Total de cas d’ulcération génitale et/ou bubon diagnostiqués",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD19",short_name:" 10-14 ans (F)",long_name:" 10-14 ans (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD20",short_name:" 10-14 ans (M)",long_name:" 10-14 ans (M)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD21",short_name:" 15-24 ans (F)",long_name:" 15-24 ans (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD22",short_name:" 15-24 ans (M)",long_name:" 15-24 ans (M)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD23",short_name:" 25-49 ans (F)",long_name:" 25-49 ans (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD24",short_name:" 25-49 ans (M)",long_name:" 25-49 ans (M)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD25",short_name:" 50 ans et plus (F)",long_name:" 50 ans et plus (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD26",short_name:" 50 ans et plus (M)",long_name:" 50 ans et plus (M)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD27",short_name:" Total cas de douleurs testiculaires ou pelviennes",long_name:" Total de cas de douleurs testiculaires/abdominales basses (pelviennes) diagnostiqués",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD28",short_name:" 10-14 ans (F)",long_name:" 10-14 ans (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD29",short_name:" 10-14 ans (M)",long_name:" 10-14 ans (M)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD30",short_name:" 15-24 ans (F)",long_name:" 15-24 ans (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD31",short_name:" 15-24 ans (M)",long_name:" 15-24 ans (M)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD32",short_name:" 25-49 ans (F)",long_name:" 25-49 ans (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD33",short_name:" 25-49 ans (M)",long_name:" 25-49 ans (M)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD34",short_name:" 50 ans et plus (F)",long_name:" 50 ans et plus (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD35",short_name:" 50 ans et plus (M)",long_name:" 50 ans et plus (M)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD36",short_name:" Total cas de condylome",long_name:" Total de cas de condylome diagnostiqués",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD37",short_name:" Total cas d'IST Adultes (2017)",long_name:" Nombre total des cas d'IST chez les Adultes 2017",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD38",short_name:" Nb total cas de conjonctivite du nouveau-né (F)",long_name:" Nombre total de cas de  conjonctivite du nouveau-né diagnostiqués (Enfant 0-28 jours ) (F)",data_type:"INT",unit:"Nombre de cas"},{fld_name:"FLD39",short_name:" Nb total de cas de conjonctivite (M)",long_name:" Nombre total de cas de conjonctivite du nouveau-né diagnostiqués (Enfant 0-28 jours ) (M)",data_type:"INT",unit:"Nombre de cas"}]},{index:12,name:"xxxxxxxxxxxxxxxxx",valid:!1,table_num:"Tableau-14",layerList:["region_sante","district_sante"],adminlevels:["region","district"],label:"xxxxxx",unit:"nombre",article:"de ",path:"./data/statistics/tab_xx_axxxxxxx.csv",source:"DIIS/INS",data_parser:DEFAULT_PARSER,renderer:get_renderer(5,[],["white","yellow"]),color_palette:"YlGnBu",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:"Population totale 2017",long_name:"Population totale 2017",data_type:"INT",unit:"nombre"},{fld_name:"FLD2",short_name:"Nombre total de Consultants 2017",long_name:"Nombre total de Consultants 2017",data_type:"INT",unit:"nombre"},{fld_name:"FLD3",short_name:"Taux d'utilisation 2017(%)",long_name:"Taux d'utilisation 2017(%)",data_type:"INT",unit:"nombre"}]},{index:13,name:"xxxxxxxxxxxxxxxxx",valid:!1,layerList:["region_sante","district_sante"],table_num:"Tableau-15",adminlevels:["region","district"],label:"xxxxxx",unit:"nombre",article:"de ",path:"./data/statistics/tab_xx_axxxxxxx.csv",source:"DIIS/INS",data_parser:DEFAULT_PARSER,renderer:get_renderer(5,[],["white","blue"]),color_palette:"YlGnBu",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:"Population totale 2017",long_name:"Population totale 2017",data_type:"INT",unit:"nombre"},{fld_name:"FLD2",short_name:"Nombre total de Consultants ESPC 2017",long_name:"Nombre total de Consultants ESPC 2017",data_type:"INT",unit:"nombre"},{fld_name:"FLD3",short_name:"Taux d'utilisation ESPC 2017 (%)",long_name:"Taux d'utilisation ESPC 2017 (%)",data_type:"INT",unit:"nombre"},{fld_name:"FLD4",short_name:"Nombre total de Consultants Hopitaux de reference (HG & CHR) 2017",long_name:"Nombre total de Consultants Hopitaux de reference (HG & CHR) 2017",data_type:"INT",unit:"nombre"},{fld_name:"FLD5",short_name:"Taux d'utilisation HR (HG&2017 (%)",long_name:"Taux d'utilisation HR (HG&2017 (%)",data_type:"INT",unit:"nombre"}]},{index:14,name:"xxxxxxxxxxxxxxxxx",valid:!1,table_num:"Tableau-16",layerList:["region_sante","district_sante"],adminlevels:["region","district"],label:"xxxxxx",unit:"nombre",article:"de ",path:"./data/statistics/tab_xx_axxxxxxx.csv",source:"DIIS/INS",data_parser:DEFAULT_PARSER,renderer:get_renderer(5,[],["white","black"]),color_palette:"YlGnBu",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:"Population totale",long_name:" Population totale",data_type:"INT",unit:"nombre"},{fld_name:"FLD2",short_name:"Nombre de Consultations 2017",long_name:"Nombre de Consultations 2017",data_type:"INT",unit:"nombre"},{fld_name:"FLD3",short_name:"Taux de fréquentation 2017 (%)",long_name:"Taux de fréquentation 2017 (%)",data_type:"INT",unit:"nombre"}]},{index:15,name:"xxxxxxxxxxxxxxxxx",valid:!1,table_num:"Tableau-17",layerList:["region_sante","district_sante"],adminlevels:["region","district"],label:"xxxxxx",unit:"nombre",article:"de ",path:"./data/statistics/tab_xx_axxxxxxx.csv",source:"DIIS/INS",data_parser:DEFAULT_PARSER,renderer:get_renderer(5,[],["white","cyan"]),color_palette:"YlGnBu",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:"Population totale 2017",long_name:"Population totale 2017",data_type:"INT",unit:"nombre"},{fld_name:"FLD2",short_name:"Total Consultations ESPC 2017",long_name:"Total Consultations ESPC 2017",data_type:"INT",unit:"nombre"},{fld_name:"FLD3",short_name:"Taux de frequentation ESPC",long_name:"Taux de frequentation ESPC",data_type:"INT",unit:"nombre"},{fld_name:"FLD4",short_name:"Nombre total de consultation HR (CHR&HG) 2017",long_name:"Nombre total de consultation HR (CHR&HG) 2017",data_type:"INT",unit:"nombre"},{fld_name:"FLD5",short_name:"Taux de frequentation HR (HG&CHR) 2017 (%)",long_name:"Taux de frequentation HR (HG&CHR) 2017 (%)",data_type:"INT",unit:"nombre"}]},{index:16,name:"xxxxxxxxxxxxxxxxx",valid:!1,table_num:"Tableau-18",layerList:["region_sante","district_sante"],adminlevels:["region","district"],label:"xxxxxx",unit:"nombre",article:"de ",path:"./data/statistics/tab_xx_axxxxxxx.csv",source:"DIIS/INS",renderer:get_renderer(5,[],["white","blue"]),color_palette:"YlGnBu",field_selected:default_field_selection,data_fields:[{fld_name:"FLD1",short_name:"Nombre total de consultants ESPC 2017",long_name:"Nombre total de consultants ESPC 2017",data_type:"INT",unit:"nombre"},{fld_name:"FLD2",short_name:"Nombre Total Consultants HG et CHR 2017",long_name:"Nombre Total Consultants HG et CHR 2017",data_type:"INT",unit:"nombre"},{fld_name:"FLD3",short_name:"Nombre Total Consultants EPN/CHU 2017",long_name:"Nombre Total Consultants EPN/CHU 2017",data_type:"INT",unit:"nombre"},{fld_name:"FLD4",short_name:"Total Consultants 2017",long_name:"Total Consultants 2017",data_type:"INT",unit:"nombre"},{fld_name:"FLD5",short_name:"Proportion Consultants ESPC 2017 (%)",long_name:"Proportion Consultants ESPC 2017 (%)",data_type:"INT",unit:"nombre"},{fld_name:"FLD6",short_name:"Proportion Consultants HG & CHR 2017 (%)",long_name:"Proportion Consultants HG & CHR 2017 (%)",data_type:"INT",unit:"nombre"}]}]},tmplt_details_hard='\n\t<div class="pane-header">\n\t \t<span>\n\t \t\t<strong> {{ ADM_NAME }} </strong> \n\t \t</span>\n\t \t<a href="#" id="close-details"  onclick="hideDetails(); return false;">    \n\t \t\t<i class="fa fa-window-close fa-1x"></i>  \n\t \t</a>\n\t </div>\n\t <div class="enveloppe">\n\t\t <table class="detail-table">\n\t\t \t{{{ HTML_TABLE_ROWS}}}\n\t\t </table>\n\t</div>\t',tmplt_key_select='\n\t<label for="var_selector"> Choisir l\'indicateur à cartographier : </label><br/>\n\t<select id="select-key" name="var_selector" >\n\t\t{{#data_fields}}\n\t\t \t<option value = "{{fld_name}}"" {{field_selected}}> {{short_name}}  </option>\n\t\t{{/data_fields}}\n\t</select>\n',tmplt_table_select='\n\t<label for="table_selector"> Choisir une thématique : </label><br/>\n\t<select id="select-table" name="table_selector" >\n\t\t{{#table_details}}\n\t\t     {{#valid}}<option value = "{{name}}"" {{table_selected}}> {{label}} </option>{{/valid}}\n\t\t{{/table_details}}\n\t</select>\n',tmplt_palette_select='\n\t<nav id="main_nav">\n\t  <ul>\n\t    <li>\n\t\t\t<a> Modifier la palette </a>\n\t\t  <ul>\n\t\t\t{{#color_palettes}}\n\t\t\t\t<li class="x{{name}}"><a href="#/action/select-palette/{{name}}">{{name}}<br>\n\t\t\t \t\t<span class="color-cll  q0-9"> </span>\n\t\t\t \t\t<span class="color-cll  q1-9"> </span>\n\t\t\t \t\t<span class="color-cll  q2-9"> </span>\n\t\t\t \t\t<span class="color-cll  q3-9"> </span> \n\t\t\t \t\t<span class="color-cll  q4-9"> </span> \n\t\t\t \t\t<span class="color-cll  q5-9"> </span> \n\t\t\t \t\t<span class="color-cll  q6-9"> </span> \n\t\t\t \t\t<span class="color-cll  q7-9"> </span> \n\t\t\t \t\t<span class="color-cll  q8-9"> </span> </a>\n\t\t  \t\t</li> <br>\n\t\t\t{{/color_palettes}}\n\t\t  </ul>\n\t    </li>\n\t  </ul>\n\t</nav>\n\t',tmplt_sysinfos='\n\t\t\t <div class="pane-header">\n\t\t\t \t<span>\n\t\t\t \t\t<strong> SYS INFOS </strong> \n\t\t\t \t</span>\n\t\t\t \t<a href="#" class="close-bttn"  onclick="hideSysInfos(); return false;">    \n\t\t\t \t\t<i class="fa fa-window-close fa-1x"></i>  \n\t\t\t \t</a>\n\t\t\t </div>\n\t\t\t <div class="enveloppe">\n\t\t\t\t<table class="detail-table">\n\n\t\t\t\t\t<tr><th colspan="2"> View settings </th> </tr>\n\t\t\t\t\t<tr><th> svg size : </th> <td> W: {{ svg_width }}; H: {{svg_height}} </td>\t</tr>\n\t\t\t\t\t<tr><th> Range : </th> <td>  {{range}} </td></tr>\n\t\t\t\t\t<tr><th> Domain values : </th> <td> {{domain}} </td></tr>\t\n\n\t\t\t\t\t<tr><th colspan="2"> Current Table properties </th> </tr>\t\n\t\t\t\t\t<tr><th> Table name :  </th> <td>{{table.name}}   </td></tr>\t \t\t\n\t\t\t\t\t<tr><th> Table number :</th> <td>{{table.table_num }}   </td></tr>\t \t\t\n\t\t\t\t\t<tr><th> Title :       </th> <td>{{table.label}}   </td></tr>\t \t\t\n\t\t\t\t\t<tr><th> File path :   </th> <td>{{table.path}} </td></tr>\t \t\t\n\t\t\t\t\t<tr><th> Data source : </th> <td>{{table.source}} </td></tr>\t \t\t\n\n\t\t\t\t\t<tr><th colspan="2"> Current field properties </th> </tr>\t \t\t\n\t\t\t\t\t<tr><th> key name : </th>    <td>    {{field.fld_name}}   </td></tr>\t \t\t\n\t\t\t\t\t<tr><th> Short name : </th> <td>    {{field.short_name}} </td></tr>\t \t\t\n\t\t\t\t\t<tr><th> Long name : </th> <td>    {{field.long_name}} </td></tr>\t \t\t\n\t\t\t\t\t<tr><th> Unit : </th> <td>    {{field.unit}} </td></tr>\t \t\t\n\t\t\t\t</table>\n\t\t\t</div>';function ui_render_navtabs(e,t,a){var n=`\n\t    <div id="${t.id}"  class="card">\n\n\t\t\t<div class="tab-content" id="${t.id}-tabContent">\n\t\t\t\t{{#tabs}}\n\t\t\t\t\t<div class="tab-pane fade show {{active}}" id="{{id}}" role="tabpanel" aria-labelledby="{{id}}-tab">\n\t\t\t\t\t\t{{{html_content}}}\n\t\t\t\t\t</div>\t\t\t\t\n\t\t\t\t{{/tabs}}\n\t\t\t</div>\n\t\t\t<nav>\n\t\t\t  <div class="nav nav-tabs" id="_nav-tab" role="tablist">\n\t\t\t\t{{#tabs}}\n\t\t\t\t\t<a class="nav-item nav-link {{active}} {{disable}}" id="{{id}}-tab" data-toggle="tab" data-tabname="{{name}}" data-tablabel="{{label}}"  href="#{{id}}" role="tab" \n\t\t\t\t\taria-controls="{{id}}" aria-selected="{{selected}}"> {{{label}}} </a>\t\t\t\n\t\t\t\t{{/tabs}}\n\t\t\t  </div>\n\t\t\t</nav>\n\t    </div>\n\t`,r=t;r.tabs=t.tabs.map(function(e){return e.active=e.id==r.default?"active":"",e.selected=e.id==r.default?"true":"false",e.disable=0==e.enabled?"disabled":"",e});var o=Mustache.render(n,r);return d3.select(`${e}`).html(o),$(`${e} .nav-item.nav-link`).on({click:function(e){$(this);var t=e.currentTarget.dataset,n={tabname:t.tabname,label:t.tablabel};a(n)}}),{api_func:function(e){}}}function ui_render_dropdown_inputgroup(e,t,a){var n=`\n\t\t\t <div class="input-group-prepend">\n\t\t\t    <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown"\n\t\t\t      aria-haspopup="true" aria-expanded="false"> ${t.prompt} :</button>\n\t\t\t    <div class="dropdown-menu">\n\t\t\t\t    {{#option_list}}\n\t\t\t\t\t\t<a class="dropdown-item"  data-key="{{key}}" data-label="{{label}}"\n\t\t\t\t\t\tstyle="line-height:1.2em; padding: 1px 4px; font-size:0.8rem;" href="#"> {{ label }} </a>\n\t\t\t\t\t{{/option_list}}\n\t\t\t    </div>\n\t\t\t</div>\n\t\t  <input type="text" class="form-control" aria-label="Text input with dropdown button" value="">\n\t\t `,r=t,o=t.tranform;is_function(t.tranform)&&(r.option_list=r.option_list.map(o));var s=Mustache.render(n,r);return d3.select(`${e}`).html(s),$(`${e} .dropdown-item`).on({click:function(t){$(this);var n=t.currentTarget.dataset,r={key:n.key,label:n.label};$(`${e} > input.form-control`).val(r.label),a(r)}}),{update_view:function(t){var a=$(`${e}  a[data-key="${t}"]`)[0].dataset;$(`${e} > input.form-control`).val(a.label)}}}function generate_legend(e,t){var a=d3.format("d"),n=d3.scale.threshold(),r=d3.select(e).append("svg");r.attr("width","100%").attr("height","50");var o=d3.svg.axis(),s=r.append("g").attr("class","cell-rect"),l=r.append("g").attr("class","axis"),i=r.append("g").attr("class","custom_label");i.attr("transform",`translate( ${15+t.offset.x} , ${t.offset.y})`),s.attr("transform",`translate( ${15+t.offset.x} , ${t.offset.y})`),l.attr("transform",`translate( ${15+t.offset.x} , ${t.offset.y})`);var d=i.append("text").attr("class","title-label");return c(),{set_prop:function(e,a){t[e]=a},refresh:function(){c()}};function c(){t.count=t.domain.length,t.cell.width=Math.round(t.width/(t.count+1)),opera_console.addLog("LegendController width : "+t.width+", with "+t.count+" legend classes :: "+JSON.stringify(t.domain)),n.domain(t.domain).range(d3.range(0,t.width+5,t.cell.width)),o.scale(n).orient("bottom").tickSize(t.tickSize).tickFormat(function(e){return a(e)}),t.colorscale.start&&t.colorscale.end?t._color_list=function(e,t="#ffffff",a="#000000"){var n=d3.scale.linear().domain([0,e]).interpolate(d3.interpolateRgb).range([d3.rgb(t),d3.rgb(a)]);return new Array(e+1).fill("0").map(function(e,t){return n(t)})}(t.count,t.colorscale.start,t.colorscale.end):t._color_list=t.colorscale,d.style("fill","#222").style("font-weight",700).style("font-size","1em").style("text-anchor","start").attr("x",0).attr("y",-12).text(t.title),function(e,a,n,r="none"){function o(e){e.attr("x",function(e,t){return t*a}).attr("height",t.cell.height).attr("width",a).attr("fill",function(e,t){return n[t]}).attr("stroke",r).attr("stroke-width","1px")}rects=e.selectAll("rect").data(d3.range(0,n.length)),o(rects),o(rects.enter().append("rect")),rects.exit().remove()}(s,t.cell.width,t._color_list,"#000"),function(e){if(null==t.custom_label)return;function a(e){e.attr("class","custom-label").style("fill","#555").style("font-size","1.0em").style("text-anchor","middle").attr("x",function(e,a){return(a+.5)*t.cell.width}).attr("y",-3).attr("transform","rotate(0)").text(function(e){return e})}labels=e.selectAll("text.custom-label").data(t.custom_label),a(labels),a(labels.enter().append("text")),labels.exit().remove()}(i),l.call(o)}}function create_Chart(e,t,a){d3.time.format("%d-%m-%Y");var n=e.map(function(e){return e[a.label_field]});a.label_min=n[0],a.label_max=n[n.length-1];var r={data:{labels:e.map(function(e){return e[a.label_field]}),datasets:a.charts.map(function(t){return{label:t.label,type:t.type,yAxisID:t.yAxisID,backgroundColor:get_color(t.backgroundColor,.45),borderColor:get_color(t.borderColor,.99),borderWidth:"bar"==t.type?1:t.borderWidth?t.borderWidth:1,fill:"line"!=t.type,data:e.map(function(e){return e[t.field]})}})},options:{maintainAspectRatio:!1,title:{display:!0,text:a.title},tooltips:{intersect:!0,titleFontColor:"#333",backgroundColor:get_color("WHITE",.8),bodyFontColor:"#555",borderWidth:1,cornerRadius:2,borderColor:get_color("RED",.99)},scales:{xAxes:generate_xAxes_section(a),yAxes:generate_yAxes_section(a)}}},o=document.getElementById(t);return new Chart(o,r)}function generate_yAxes_section(e){var t=[];return["y-axis-1","y-axis-2"].forEach(function(a){var n;e[a]&&(t.push((n=e[a],{id:a,display:n.display,position:n.position,gridLines:{borderDash:[3,3],color:get_color("GRAY",.7)},ticks:{beginAtZero:!1},scaleLabel:{display:!0,labelString:n.labelString?n.labelString:"Title axe y1"}})),!1)}),0==t.length&&t.push({id:"y-axis-1",display:"true",position:"left",gridLines:{borderDash:[3,3],color:get_color("GRAY",.7)},ticks:{beginAtZero:!1},scaleLabel:{display:!0,labelString:"Nombre de cas"}}),t}function generate_xAxes_section(e){var t=e["x-axis-style"];return[{RASS:{gridLines:{borderDash:[2,2],color:get_color("GRAY",.7)},type:"category",ticks:{min:e.label_min,max:e.label_max,source:"auto",autoSkip:!1,autoSkipPadding:0,maxRotation:90,minRotation:60,fontColor:"gray",fontSize:9,fontFamily:"Univers Condensed,arial",callback:function(e,t,a){return truncateString(e,15)}}},COVID:{gridLines:{borderDash:[2,2],color:get_color("GRAY",.7)},type:"time",display:!0,time:{format:"DD/MM/YYYY",displayFormats:{day:"DD MMM"}},ticks:{source:"auto",autoSkip:!0,autoSkipPadding:25,maxRotation:0}}}[t]]}function truncateString(e,t){return e.length<=t?e:e.slice(0,t)+"..."}function get_color(e,t){return color_helper(chartColors[e]).alpha(t).rgbString()}function INIT_NAMED_COLOR_LIST(){window.chartColors={INDIANRED:"RGB(205, 92, 92)",LIGHTCORAL:"RGB(240, 128, 128)",SALMON:"RGB(250, 128, 114)",DARKSALMON:"RGB(233, 150, 122)",LIGHTSALMON:"RGB(255, 160, 122)",CRIMSON:"RGB(220, 20, 60)",RED:"RGB(255, 0, 0)",FIREBRICK:"RGB(178, 34, 34)",DARKRED:"RGB(139, 0, 0)",PINK:"RGB(255, 192, 203)",LIGHTPINK:"RGB(255, 182, 193)",HOTPINK:"RGB(255, 105, 180)",DEEPPINK:"RGB(255, 20, 147)",MEDIUMVIOLETRED:"RGB(199, 21, 133)",PALEVIOLETRED:"RGB(219, 112, 147)",LIGHTSALMON:"RGB(255, 160, 122)",CORAL:"RGB(255, 127, 80)",TOMATO:"RGB(255, 99, 71)",ORANGERED:"RGB(255, 69, 0)",DARKORANGE:"RGB(255, 140, 0)",ORANGE:"RGB(255, 165, 0)",GOLD:"RGB(255, 215, 0)",YELLOW:"RGB(255, 255, 0)",LIGHTYELLOW:"RGB(255, 255, 224)",LEMONCHIFFON:"RGB(255, 250, 205)",LIGHTGOLDENRODYELLOW:"RGB(250, 250, 210)",PAPAYAWHIP:"RGB(255, 239, 213)",MOCCASIN:"RGB(255, 228, 181)",PEACHPUFF:"RGB(255, 218, 185)",PALEGOLDENROD:"RGB(238, 232, 170)",KHAKI:"RGB(240, 230, 140)",DARKKHAKI:"RGB(189, 183, 107)",LAVENDER:"RGB(230, 230, 250)",THISTLE:"RGB(216, 191, 216)",PLUM:"RGB(221, 160, 221)",VIOLET:"RGB(238, 130, 238)",ORCHID:"RGB(218, 112, 214)",FUCHSIA:"RGB(255, 0, 255)",MAGENTA:"RGB(255, 0, 255)",MEDIUMORCHID:"RGB(186, 85, 211)",MEDIUMPURPLE:"RGB(147, 112, 219)",REBECCAPURPLE:"RGB(102, 51, 153)",BLUEVIOLET:"RGB(138, 43, 226)",DARKVIOLET:"RGB(148, 0, 211)",DARKORCHID:"RGB(153, 50, 204)",DARKMAGENTA:"RGB(139, 0, 139)",PURPLE:"RGB(128, 0, 128)",INDIGO:"RGB(75, 0, 130)",SLATEBLUE:"RGB(106, 90, 205)",DARKSLATEBLUE:"RGB(72, 61, 139)",MEDIUMSLATEBLUE:"RGB(123, 104, 238)",GREENYELLOW:"RGB(173, 255, 47)",CHARTREUSE:"RGB(127, 255, 0)",LAWNGREEN:"RGB(124, 252, 0)",LIME:"RGB(0, 255, 0)",LIMEGREEN:"RGB(50, 205, 50)",PALEGREEN:"RGB(152, 251, 152)",LIGHTGREEN:"RGB(144, 238, 144)",MEDIUMSPRINGGREEN:"RGB(0, 250, 154)",SPRINGGREEN:"RGB(0, 255, 127)",MEDIUMSEAGREEN:"RGB(60, 179, 113)",SEAGREEN:"RGB(46, 139, 87)",FORESTGREEN:"RGB(34, 139, 34)",GREEN:"RGB(0, 128, 0)",DARKGREEN:"RGB(0, 100, 0)",YELLOWGREEN:"RGB(154, 205, 50)",OLIVEDRAB:"RGB(107, 142, 35)",OLIVE:"RGB(128, 128, 0)",DARKOLIVEGREEN:"RGB(85, 107, 47)",MEDIUMAQUAMARINE:"RGB(102, 205, 170)",DARKSEAGREEN:"RGB(143, 188, 139)",LIGHTSEAGREEN:"RGB(32, 178, 170)",DARKCYAN:"RGB(0, 139, 139)",TEAL:"RGB(0, 128, 128)",AQUA:"RGB(0, 255, 255)",CYAN:"RGB(0, 255, 255)",LIGHTCYAN:"RGB(224, 255, 255)",PALETURQUOISE:"RGB(175, 238, 238)",AQUAMARINE:"RGB(127, 255, 212)",TURQUOISE:"RGB(64, 224, 208)",MEDIUMTURQUOISE:"RGB(72, 209, 204)",DARKTURQUOISE:"RGB(0, 206, 209)",CADETBLUE:"RGB(95, 158, 160)",STEELBLUE:"RGB(70, 130, 180)",LIGHTSTEELBLUE:"RGB(176, 196, 222)",POWDERBLUE:"RGB(176, 224, 230)",LIGHTBLUE:"RGB(173, 216, 230)",SKYBLUE:"RGB(135, 206, 235)",LIGHTSKYBLUE:"RGB(135, 206, 250)",DEEPSKYBLUE:"RGB(0, 191, 255)",DODGERBLUE:"RGB(30, 144, 255)",CORNFLOWERBLUE:"RGB(100, 149, 237)",MEDIUMSLATEBLUE:"RGB(123, 104, 238)",ROYALBLUE:"RGB(65, 105, 225)",BLUE:"RGB(0, 0, 255)",MEDIUMBLUE:"RGB(0, 0, 205)",DARKBLUE:"RGB(0, 0, 139)",NAVY:"RGB(0, 0, 128)",MIDNIGHTBLUE:"RGB(25, 25, 112)",CORNSILK:"RGB(255, 248, 220)",BLANCHEDALMOND:"RGB(255, 235, 205)",BISQUE:"RGB(255, 228, 196)",NAVAJOWHITE:"RGB(255, 222, 173)",WHEAT:"RGB(245, 222, 179)",BURLYWOOD:"RGB(222, 184, 135)",TAN:"RGB(210, 180, 140)",ROSYBROWN:"RGB(188, 143, 143)",SANDYBROWN:"RGB(244, 164, 96)",GOLDENROD:"RGB(218, 165, 32)",DARKGOLDENROD:"RGB(184, 134, 11)",PERU:"RGB(205, 133, 63)",CHOCOLATE:"RGB(210, 105, 30)",SADDLEBROWN:"RGB(139, 69, 19)",SIENNA:"RGB(160, 82, 45)",BROWN:"RGB(165, 42, 42)",MAROON:"RGB(128, 0, 0)",WHITE:"RGB(255, 255, 255)",SNOW:"RGB(255, 250, 250)",HONEYDEW:"RGB(240, 255, 240)",MINTCREAM:"RGB(245, 255, 250)",AZURE:"RGB(240, 255, 255)",ALICEBLUE:"RGB(240, 248, 255)",GHOSTWHITE:"RGB(248, 248, 255)",WHITESMOKE:"RGB(245, 245, 245)",SEASHELL:"RGB(255, 245, 238)",BEIGE:"RGB(245, 245, 220)",OLDLACE:"RGB(253, 245, 230)",FLORALWHITE:"RGB(255, 250, 240)",IVORY:"RGB(255, 255, 240)",ANTIQUEWHITE:"RGB(250, 235, 215)",LINEN:"RGB(250, 240, 230)",LAVENDERBLUSH:"RGB(255, 240, 245)",MISTYROSE:"RGB(255, 228, 225)",GAINSBORO:"RGB(220, 220, 220)",LIGHTGRAY:"RGB(211, 211, 211)",SILVER:"RGB(192, 192, 192)",DARKGRAY:"RGB(169, 169, 169)",GRAY:"RGB(128, 128, 128)",DIMGRAY:"RGB(105, 105, 105)",LIGHTSLATEGRAY:"RGB(119, 136, 153)",SLATEGRAY:"RGB(112, 128, 144)",DARKSLATEGRAY:"RGB(47, 79, 79)",BLACK:"RGB(0, 0, 0)"}}function ui_render_ThematicSelectList_Component_ex(e,t){var a=e.filter(function(e){return e.valid}),n=Mustache.render('\n\t\t\t <div class="input-group-prepend">\n\t\t\t    <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Choisir une thématique :</button>\n\t\t\t    <div class="dropdown-menu">\n\t\t\t\t    {{#thematic_arr}}\n\t\t\t\t\t\t<a class="dropdown-item"  data-key="{{name}}" data-label="{{label}}"\n\t\t\t\t\t\tstyle="line-height:1.2em; padding: 1px 4px; font-size:0.8rem;" href="#"> {{ label }} </a>\n\t\t\t\t\t{{/thematic_arr}}\n\t\t\t    </div>\n\t\t\t</div>\n\t\t  <input type="text" class="form-control" aria-label="Text input with dropdown button" value="">\n\t\t ',{thematic_arr:a});return d3.select(`${t}`).html(n),$(`${t}  .dropdown-item`).on({click:function(e){$(this);var a=e.currentTarget.dataset,n={key:a.key,label:a.label};$(`${t} > input.form-control`).val(n.label),Activate_thematic_section(n.key,!1)}}),{update_view:function(e){var a=$(`${t}  a[data-key="${e}"]`)[0].dataset;$(`${t} > input.form-control`).val(a.label)}}}function ui_render_keySelectList_component_ex(e,t){var a=e.data_fields,n=Mustache.render('\n\t\t\t <div class="input-group-prepend">\n\t\t\t    <button class="btn btn-outline-secondary dropdown-toggle" type="button" \n\t\t\t        data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Variable à cartographier :</button>\n\t\t\t    <div class="dropdown-menu">\n\t\t\t\t    {{#field_arr}}\n\t\t\t\t\t\t<a class="dropdown-item"  data-key="{{fld_name}}" data-label="{{short_name}}"\n\t\t\t\t\t\tstyle="line-height:1.2em; padding: 1px 4px; font-size:0.8rem;" href="#"> {{ short_name }} </a>\n\t\t\t\t\t{{/field_arr}}\n\t\t\t    </div>\n\t\t\t</div>\n\t\t  <input type="text" class="form-control" aria-label="Text input with dropdown button" value="">\n\t\t ',{field_arr:a});return d3.select(`${t}`).html(n),$(`${t} .dropdown-item`).on({click:function(e){$(this);var a=e.currentTarget.dataset,n={key:a.key,label:a.label};$(`${t} > input.form-control`).val(n.label),after_selectKey_Changed(n.key)}}),{update_view:function(e){var a=$(`${t}  a[data-key="${e}"]`)[0].dataset;$(`${t} > input.form-control`).val(a.label)}}}function ui_render_spatialLayerSelectList_component(e,t){var a=e,n=Mustache.render('\n\t\t\t <div class="input-group-prepend">\n\t\t\t    <button class="btn btn-outline-secondary dropdown-toggle" type="button" data-toggle="dropdown"\n\t\t\t      aria-haspopup="true" aria-expanded="false"> Niveau géographique :</button>\n\t\t\t    <div class="dropdown-menu">\n\t\t\t\t    {{#layer_arr}}\n\t\t\t\t\t\t<a class="dropdown-item"  data-key="{{name}}" data-label="{{label}}"\n\t\t\t\t\t\tstyle="line-height:1.2em; padding: 1px 4px; font-size:0.8rem;" href="#"> {{ label }} </a>\n\t\t\t\t\t{{/layer_arr}}\n\t\t\t    </div>\n\t\t\t</div>\n\t\t  <input type="text" class="form-control" aria-label="Text input with dropdown button" value="">\n\t\t ',{layer_arr:a});return d3.select(`${t}`).html(n),$(`${t} .dropdown-item`).on({click:function(e){$(this);var a=e.currentTarget.dataset,n={key:a.key,label:a.label};$(`${t} > input.form-control`).val(n.label),after_selectLayer_Changed(n.key)}}),{update_view:function(e){var a=$(`${t}  a[data-key="${e}"]`)[0].dataset;$(`${t} > input.form-control`).val(a.label)}}}Mustache.parse(tmplt_details_hard),Mustache.parse(tmplt_key_select),Mustache.parse(tmplt_table_select),Mustache.parse(tmplt_table_select),Mustache.parse(tmplt_sysinfos),INIT_NAMED_COLOR_LIST(),function(e){var t,a,n,r,o,s,l=["January","February","March","April","May","June","July","August","September","October","November","December"],i=["#4dc9f6","#f67019","#f53794","#537bc4","#acc236","#166a8f","#00a950","#58595b","#8549ba"],d=e.Samples||(e.Samples={}),c=e.Color;d.utils={srand:function(e){this._seed=e},rand:function(e,t){var a=this._seed;return e=void 0===e?0:e,t=void 0===t?1:t,this._seed=(9301*a+49297)%233280,e+this._seed/233280*(t-e)},numbers:function(e){var t,a,n=e||{},r=n.min||0,o=n.max||1,s=n.from||[],l=n.count||8,i=n.decimals||8,d=n.continuity||1,c=Math.pow(10,i)||0,_=[];for(t=0;t<l;++t)a=(s[t]||0)+this.rand(r,o),this.rand()<=d?_.push(Math.round(c*a)/c):_.push(null);return _},labels:function(e){var t,a=e||{},n=a.min||0,r=a.max||100,o=(r-n)/(a.count||8),s=a.decimals||8,l=Math.pow(10,s)||0,i=a.prefix||"",d=[];for(t=n;t<r;t+=o)d.push(i+Math.round(l*t)/l);return d},months:function(e){var t,a,n=e||{},r=n.count||12,o=n.section,s=[];for(t=0;t<r;++t)a=l[Math.ceil(t)%12],s.push(a.substring(0,o));return s},color:function(e){return i[e%i.length]},transparentize:function(e,t){var a=void 0===t?.5:1-t;return c(e).alpha(a).rgbString()}},window.randomScalingFactor=function(){return Math.round(d.utils.rand(-100,100))},d.utils.srand(Date.now()),document.location.hostname.match(/^(www\.)?chartjs\.org$/)&&(t=window,a=document,n="script",r="ga",t.GoogleAnalyticsObject=r,t.ga=t.ga||function(){(t.ga.q=t.ga.q||[]).push(arguments)},t.ga.l=1*new Date,o=a.createElement(n),s=a.getElementsByTagName(n)[0],o.async=1,o.src="//www.google-analytics.com/analytics.js",s.parentNode.insertBefore(o,s),ga("create","UA-28909194-3","auto"),ga("send","pageview"))}(this),init_helper_functions();var fake_table=`<div id="opera-rass-table" style= "position: relative; height:80vh;"> \n  \t ${upcoming_function({fa_icon:"fa-table",messageTitle:"Section des vues tabulaires",messageContent:"Cette section présentera sous forme de tableau interactif, <br> le jeu de données associé à la thématique active"})}\n  </div>  `,fake_monography=`<div id="opera-rass-monography" style= "position: relative; height:80vh;"> \n  \t ${upcoming_function({fa_icon:"fa-bar-chart",messageTitle:"Génération autmatique de monographie",messageContent:"Cette section contiendra les monographies générées<br> à la volée sur les circonscriptions sanitaires actives"})}\n  </div> `,fake_about_us=`<div id="opera-about-us" style= "position: relative; height:80vh;"> \n   \t ${upcoming_function({fa_icon:"fa-cogs",messageTitle:"A propos du cabinet Improve",messageContent:"Cette section décrira l'offre de service du cabinet Improve"})}\n  \n  </div>  `,opera_console_tmpl=`<div  style= "position: relative; height:80vh;"> \n \t\t${include_button_input("opera_test_01","Lister les visiteurs","saisir le message feedback")}\n  \t\t <div id="opera-sys-message" style= "padding: 10px; margin : 0px 20px ;position: relative; height:70vh; background-color:#666 ;color:#ddd; font-size:0.8em; overflow: scroll;">  \n  \t\t  \t<p> Informations systèmes: </p> \n  \t\t</div>\n  </div>  `,submit_function=function(e,t){var a=`#${t} input`;opera_console.addLog(`Vous avez cliqué sur le bouton: ${t} et envoyer le message ${$(a).val()}`),Ajaxian.read("./buyers",function(e){opera_console.addLog(`Suppression <b> ${JSON.stringify(e)} </b>`,"success")},function(e,t,a){opera_console.addLog("Erreur lors du chargement de la table","fail")})},navtabController_RASS=ui_render_navtabs("#RASS-NAV-TAB-CONTAINER",{id:"nav-tab-01",default:"tab-a",tabs:[{id:"tab-a",name:"graphics",label:"Graphiques",html_content:get_chart_container("chart-canvas-rass",600,250,"90%","80vh"),enabled:!0},{id:"tab-b",name:"table",label:"Vue tabulaire",html_content:get_table_container_template_TODO(),enabled:!0},{id:"tab-c",name:"monography",label:"Monographies",html_content:get_Monography_template_TODO(),enabled:!0},{id:"tab-d",name:"about_us",label:"Qui-sommes nous?",html_content:get_ourReferences_template_TODO(),enabled:!0},{id:"tab-e",name:"sys_info",label:"outils d'administration",html_content:get_opera_console_template_TODO(),enabled:!1}]},function(e){});function get_chart_container(e,t,a,n,r){return`\n\t\t<div class="chart-container" style="position: relative; width: ${n} ; height: ${r}; ">\n\t\t\t<canvas id="${e}" width="${t}" height="${a}"> \t</canvas>\n\t\t</div>`}function get_Monography_template_TODO(){return fake_monography}function get_table_container_template_TODO(){return fake_table}function get_ourReferences_template_TODO(){return fake_about_us}function get_opera_console_template_TODO(){return opera_console_tmpl}function init_helper_functions(){include_button_input=function(e,t,a){return`\n\t\t\t<nav class="navbar navbar-light bg-light">\n\t\t\t  <form id="${e}" class="form-inline" onSubmit="submit_function(this , '${e}')">\n\t\t\t    \t<input class="form-control mr-sm-2" type="search" placeholder="${a}" aria-label="Search">\n\t\t\t    \t<button class="btn btn-outline-success my-2 my-sm-0" type="submit">${t}</button>\n\t\t\t  </form>\n\t\t\t</nav>\n\t\t\t`},include_button=function(e,t){return`\n\t\t\t<nav class="navbar navbar-light bg-light">\n\t\t\t  <form id="${e}" class="form-inline" onSubmit="submit_function(this , '${e}')">\n\t\t\t    \t<input id="saisie" class="form-control mr-sm-2" type="search" placeholder="${placeHolder}" aria-label="Search">\n\t\t\t    \t<button class="btn btn-outline-success my-2 my-sm-0" type="submit">${t}</button>\n\t\t\t  </form>\n\t\t\t</nav>\n\t\t\t`},upcoming_function=function(e){return Mustache.render('<center>\n\t\t       <span style="position:relative; top: 150px; font-size: 20px; color:#999">  \n\t\t          <i class="fa {{fa_icon}} fa-5x"  style= "color:#ccc" ></i>\n\t\t          <h3> {{messageTitle}}</h3>\n\t\t          <h4> {{{messageContent}}}</h4>\n\t\t      </span>         \n\t    \t</center> ',e)}}function build_COVID_chart_component(e){e.map(function(e){return e});create_Chart(e,"myChart_1",{title:"EVOLUTION CHRONOLOGIQUE DES INDICATEURS EPIDEMIOLODIQUE DU COVID-19",label_field:"date_raw","x-axis-style":"COVID","y-axis-1":{display:!0,position:"left",labelString:"Nombre de cas"},"y-axis-2":{display:!1,position:"right",labelString:"Nombre de cas"},charts:[{label:"Nombre de cas actifs",type:"line",field:"active_case",backgroundColor:"ORANGE",borderColor:"ORANGE",yAxisID:"y-axis-1"},{label:"Nombre de cas guéris",type:"bar",field:"sum_healed",backgroundColor:"GREEN",borderColor:"GREEN",yAxisID:"y-axis-1"},{label:"Nombre de décès",type:"bar",field:"sum_deceased",backgroundColor:"RED",borderColor:"RED",yAxisID:"y-axis-1"}]}),create_Chart(e,"myChart_2",{title:"EVOLUTION CHRONOLOGIQUE DES INDICATEURS JOURNALIERS DU COVID-19",label_field:"date_raw","x-axis-style":"COVID","y-axis-1":{display:!0,position:"left",labelString:"Nombre de cas"},"y-axis-2":{display:!1,position:"right",labelString:"Nombre de cas"},charts:[{label:"Nombre de prélèvements",type:"bar",field:"nb_sample",backgroundColor:"GRAY",borderColor:"GRAY",yAxisID:"y-axis-1"},{label:"Nouveaux cas",type:"bar",field:"new_case",backgroundColor:"BLUE",borderColor:"BLUE",yAxisID:"y-axis-1"},{label:"Nouveaux guéris",type:"bar",field:"new_healed",backgroundColor:"GREEN",borderColor:"GREEN",yAxisID:"y-axis-1"},{label:"Nouveaux décès",type:"bar",field:"new_deceased",backgroundColor:"RED",borderColor:"RED",yAxisID:"y-axis-1"}]}),create_Chart(e,"myChart_3",{title:"SUIVI DES CAS CONFIRMES",label_field:"date_raw","x-axis-style":"COVID",charts:[{label:"Nombre de cas confirmés",type:"bar",field:"sum_case",backgroundColor:"ORANGE",borderColor:"ORANGE",yAxisID:"y-axis-1"},{label:"Nombre de prélèvements",type:"bar",field:"sum_sample",backgroundColor:"GRAY",borderColor:"GRAY",yAxisID:"y-axis-1"}]}),create_Chart(e,"myChart_21",{title:"SUIVI DE L'INCIDENCE JOURNALIERE",label_field:"date_raw","x-axis-style":"COVID","y-axis-1":{display:!0,position:"left",labelString:"Nombre de cas"},"y-axis-2":{display:!0,position:"right",labelString:"% de cas d'infection"},charts:[{label:"Taux d'incidence journalier",type:"line",field:"incidence",backgroundColor:"VIOLET",borderWidth:3,borderColor:"VIOLET",yAxisID:"y-axis-2"},{label:"Nouveaux cas",type:"bar",field:"new_case",backgroundColor:"ORANGE",borderColor:"ORANGE",yAxisID:"y-axis-1"},{label:"Nombre de prélèvements",type:"bar",field:"nb_sample",backgroundColor:"GRAY",borderColor:"GRAY",yAxisID:"y-axis-1"}]}),create_Chart(e,"myChart_22",{title:"SUIVI DES CAS CONFIRMES",label_field:"date_raw","x-axis-style":"COVID",charts:[{label:"Nombre de cas confirmés",type:"bar",field:"new_case",backgroundColor:"ORANGE",borderColor:"ORANGE",yAxisID:"y-axis-1"},{label:"Nombre de prélèvements",type:"bar",field:"nb_sample",backgroundColor:"GRAY",borderColor:"GRAY",yAxisID:"y-axis-1"}]}),create_Chart(e,"myChart_23",{title:"DÉPISTAGES REALISÉS",label_field:"date_raw","x-axis-style":"COVID",charts:[{label:"Nombre de cas confirmés",type:"bar",field:"sum_case",backgroundColor:"KAKI",borderColor:"KAKI"},{label:"Nombre de prélèvements",type:"bar",field:"sum_sample",backgroundColor:"GRAY",borderColor:"GRAY",yAxisID:"y-axis-1"}]})}function get_color(e,t){return color_helper(chartColors[e]).alpha(t).rgbString()}function build_RASS_chart_component(e,t,a,n){var r=e,o=t,s=n,l={table:"empty",field:"empty",geolyr:"empty"},i=c(a),d=create_Chart_ex(i,"chart-canvas-rass",{title:`${r.label} par ${s.names.value}`,label_field:r.data_parser.name_field,"x-axis-style":"RASS","y-axis-1":{display:!0,position:"left",labelString:o.short_name},"y-axis-2":{display:!1,position:"right",labelString:"Nombre de cas"},charts:[{label:o.long_name,type:"bar",field:o.fld_name,backgroundColor:"ORANGE",borderColor:"ORANGE",yAxisID:"y-axis-1"}]});return{updateChart:function(){d.update()},explain:function(){return d},setParams:function(e,t,a,n){switch(r=e,o=t,s=n,eventname=function(){var e=null;l.geolyr!=s.name&&(e="layer-changed");l.table!=r.name&&(e="data-theme-changed");null==e&&(e="key-changed");return l.geolyr=s.name,l.table=r.name,l.field=o.name,e}(),eventname){case"key-changed":new_struct=c(i.raw),d.data.datasets[0].data=new_struct.data,d.data.datasets[0].label=o.long_name,d.data.labels=new_struct.labels,d.options.scales.xAxes[0].ticks.min=new_struct.min,d.options.scales.xAxes[0].ticks.max=new_struct.max,d.options.scales.yAxes[0].scaleLabel.labelString=o.short_name,d.options.title.text=`${r.label} par ${s.names.value}`,i=new_struct;break;case"data-theme-changed":case"layer-changed":new_struct=c(a),d.data.datasets[0].data=new_struct.data,d.data.datasets[0].label=o.long_name,d.data.labels=new_struct.labels,d.options.scales.xAxes[0].ticks.min=new_struct.min,d.options.scales.xAxes[0].ticks.max=new_struct.max,d.options.scales.yAxes[0].scaleLabel.labelString=o.short_name,d.options.title.text=`${r.label} par ${s.names.value}`,i=new_struct}}};function c(e){var t,a,n=r.data_parser;return l.table!=r.name?(l.table=r.name,(t=e.map(function(e){return e})).sort(_)):l.field!=o.fld_name&&(t=e,l.field=o.fld_name,t.sort(_)),l.geolyr=s.name,{labels:t.map(function(e){return e[n.name_field]}),data:a=t.map(function(e){return e[o.fld_name]}),min:a[0],max:a[a.length-1],raw:t}}function _(e,t){return t[o.fld_name]-e[o.fld_name]}}function create_Chart_ex(e,t,a){d3.time.format("%d-%m-%Y");a.label_min=e.min,a.label_max=e.max;JSON.stringify(a);var n={data:{labels:e.labels,datasets:a.charts.map(function(t){return{label:t.label,type:t.type,yAxisID:t.yAxisID,backgroundColor:get_color(t.backgroundColor,.45),borderColor:get_color(t.borderColor,.99),borderWidth:"bar"==t.type?1:t.borderWidth?t.borderWidth:1,fill:"line"!=t.type,data:e.data}})},options:{maintainAspectRatio:!1,title:{display:!0,text:a.title},tooltips:{intersect:!0,titleFontColor:"#333",backgroundColor:get_color("WHITE",.8),bodyFontColor:"#555",borderWidth:1,cornerRadius:2,borderColor:get_color("RED",.99)},scales:{xAxes:generate_xAxes_section(a),yAxes:generate_yAxes_section(a)}}},r=(JSON.stringify(n),document.getElementById(t));return new Chart(r,n)}var navigate=function(e){var t=window.location.href;window.location.href=t.replace(/#(.*)$/,"")+"#"+e},winResizeTimerID=0,before_app_initialization=!0,geo_dataset_is_load=!1;window.onresize;var currentTable,currentMetaTable,currentKey,currentMetaField,currentGeoDataset,currentDetailTemplate,stats_table_set,dataKeyVal,mapData,tmplt_rowDescription,initialTable="tech_platform",initialKey="FLD1",dataById=d3.map(),DARKROUGE="#550000",VERT="#63d617",JAUNE="#ffff00",ORANGE="#ffae00",ROUGE="#ef2710",DARKGREEN="#005500",tmplt_details_virtual=" \n\t\t{{#data_fields}}  \n\t\t    <tr>\n\t\t \t    <th style='text-align: left; color: #000; font-weight: normal;'>\n\t\t \t        <i class='fa fa-info-circle fa-2x css-tooltip'  aria-hidden='true'> \n\t\t \t           <span class='css-tooltiptext'> {{ long_name }} </span>  \n\t\t \t        </i> {{ short_name }} \n\t\t \t        {{#show_unit}} \t<em>({{unit}})</em>: {{/show_unit}}\n\t\t\t\t</th>\n\t\t\t\t<td  style='text-align: right; color: #1b66a7;font-weight: bold;'> \n\t\t \t    \t{{ tag_open }} {{ fld_name }} {{ tag_close }}\n\t\t \t    </td> \n\t\t \t</tr> \t\n\t\t{{/data_fields}}\n\t";Mustache.parse(tmplt_details_virtual);var width=400,height=400,dyn_width=width,dyn_height=height,svg=d3.select("#map").append("svg").attr("preserveAspectRatio","xMidYMid").attr("viewBox","0 0 "+width+" "+height).attr("width","100%").attr("height","100%"),mapFeatures=svg.append("g").attr("class","features YlGnBu"),projection=d3.geo.mercator().scale(1),zoom=d3.behavior.zoom().scaleExtent([1,15]).on("zoom",doZoom);svg.call(zoom);var chartController_rass,tooltip=d3.select("#map").append("div").attr("class","tooltip hidden"),quantize=d3.scale.quantize().range(d3.range(9).map(function(e){return"q"+e+"-9"})),path=d3.geo.path().projection(projection),formatNumber=d3.format(".2f"),legendX=d3.scale.linear(),legendController=new generate_legend("#legend",{title:"Legend Controller....",width:400,domain:[1,4,15,100,800],tickSize:15,offset:{x:15,y:23},cell:{height:12,width:45},colorscale:[DARKROUGE,ROUGE,ORANGE,JAUNE,VERT,DARKGREEN],custom_label:["Poor","labour","Middle class","High class","Rich","billionnaire"]});function bind_layout_reset_to_windowResize(){window.onresize=function(){before_app_initialization||(winResizeTimerID&&clearTimeout(winResizeTimerID),winResizeTimerID=setTimeout(function(){opera_console.addLog("Windows resized detected"),updateLegend(null,!0),winResizeTimerID=0},450))}}function Activate_thematic_section(e){load_dataframe(e,function(e){toogle_layout(e),layer_arr=extractLayerObjects(metaDataBase.geo_datasets,e.layerList,"name"),layer_controller=ui_render_spatialLayerSelectList_component(layer_arr,"#opera-spatiallayer-selector-2"),key_controller=ui_render_keySelectList_component_ex(e,"#opera-variablekey-selector-3"),currentKey="FLD1",currentMetaTable=e,update_color_palette(e.color_palette),tmplt_rowDescription=ui_updateTemplate_details({data_fields:e.data_fields,tag_open:function(){return"{{"},tag_close:function(){return"}}"}}),layer_controller.update_view(e.layerList[0]),after_selectLayer_Changed(e.layerList[0]),key_controller.update_view("FLD1")},function(e){alert(e)})}function toogle_layout(e){"COVID"==e.layout?(d3.select("#COVID-pane").classed("hidden",!1),d3.select("#RASS-pane").classed("hidden",!0)):(d3.select("#COVID-pane").classed("hidden",!0),d3.select("#RASS-pane").classed("hidden",!1))}function after_selectKey_Changed(e){currentKey=e,currentMetaField=currentMetaTable.data_fields.find(function(t){return t.fld_name===e}),updateMapColors(),updateGraphic()}function after_selectLayer_Changed(e){var t=get_spatialLayer(e);get_geoData(t.name,t.path,function(a,n){dataById=stats_table_set[e],dataKeyVal=stats_table_set[e+"_raw"],mapData=dataKeyVal,geo_dataset_is_load=!0,currentKey=currentKey||"FLD1",currentGeoDataset=t,preload_geoDataSet(n),after_selectKey_Changed(currentKey)})}function get_statsData(e,t,a){if(http_server_exe_mode=!0,http_server_exe_mode)d3.csv(t,function(e){a(e)});else{var n=find_statsdata_from_memory(e);a(n)}}function get_geoData(e,t,a){if(http_server_exe_mode)d3.json(t,function(e,t){a(e,t)});else{var n=find_geodata_from_memory(e);a(null,n)}}function after_thematic_section_Changed(e){Activate_thematic_section(e)}function after_colorPalette_selected(e){before_app_initialization||(currentMetaTable.color_palette=e,update_color_palette(e),navigate("home"))}function create_histogram_object(){histogram=new BarChart,histogram.initChart()}function get_missing_fields(e,t){var a=Object.keys(e);return t.reduce(function(e,t){return-1==a.indexOf(t)&&e.push(t),e},[])}function load_dataframe(e,t,a){var n=metaDataBase.table_details.find(function(t){return t.name===e});if(!n)return a("invalid dataframe "+e+" encoutered. Check metaDataBase"),null;!function(e,t,a){if(http_server_exe_mode=!0,http_server_exe_mode)d3.csv(t,function(e){a(e)});else{var n=find_statsdata_from_memory(e);a(n)}}(n.name,n.path,function(e){var a=n,r=a.data_parser,o=a.layerList[0];stats_table_set=generate_statistic_tables_ex(e,r),dataById=stats_table_set[o],dataKeyVal=stats_table_set[o+"_raw"];get_spatialLayer(n.layerList[0]);mapData=dataKeyVal,t(n)})}function geo_data_load_needed(e,t){return null==e||e.id!=t.id}function extractLayerObjects(e,t,a){return e.reduce(function(e,a){return-1!=t.indexOf(a.name)&&e.push(a),e},[])}function get_spatialLayer(e){return metaDataBase.geo_datasets.find(function(t){return t.name==e})}function preload_geoDataSet(e){projection=d3.geo.mercator().scale(1),path=d3.geo.path().projection(projection);var t=calculateScaleCenter(e);projection.scale(t.scale).center(t.center).translate([width/2,height/2]),mapFeatures.selectAll("path").remove(),mapFeatures.selectAll("path").data(e.features).enter().append("path").attr("class","ogis-nocolor").attr("d",path).on("mousemove",showTooltip).on("mouseout",hideTooltip).on("click",showDetails)}function updateMapColors(){var e,t,a,n,r=currentMetaTable;e=d3.min(mapData,function(e){return getValueOfData(e)}),t=d3.max(mapData,function(e){return getValueOfData(e)}),n="auto"==(a=r.renderer).source?get_renderer(a.count,[1+e,t],a.color_range):a;var o=d3.scale.threshold().domain(n.threshold).range(n.colormap);mapFeatures.selectAll("path").style("fill",function(e){var t=dataById[getIdOfFeature(e)],a=t?getValueOfData(t):0;return o(a)}),updateLegend(n,!0)}function updateLegend(e,t=!1){var a=e||currentMetaTable.renderer;opera_console.addLog("_renderer is equal to"+JSON.stringify(a)),opera_console.addLog("currentMetaTable.renderer is "+JSON.stringify(currentMetaTable.renderer)),opera_console.addLog("render for legend update is "+JSON.stringify(a));var n=currentMetaField;if(!before_app_initialization||t){var r=d3.select("#map").node().getBoundingClientRect().width-30,o=a.legendtitle?a.legendtitle:n.short_name;legendController.set_prop("title",o),legendController.set_prop("width",r),legendController.set_prop("domain",a.threshold),legendController.set_prop("colorscale",a.colormap),legendController.set_prop("custom_label",a.labelmap),legendController.refresh()}}function update_color_palette(e){}function calculateScaleCenter(e){var t=path.bounds(e),a=.95/Math.max((t[1][0]-t[0][0])/width,(t[1][1]-t[0][1])/height),n=d3.geo.bounds(e);return{scale:a,center:[(n[1][0]+n[0][0])/2,(n[1][1]+n[0][1])/2]}}function getValueOfData(e){return+e[currentKey]}function doZoom(){mapFeatures.attr("transform","translate("+d3.event.translate+") scale("+d3.event.scale+")").style("stroke-width",.5/d3.event.scale+"px")}function getIdOfFeature(e){var t=currentGeoDataset.idfield;return e.properties[t]}function showTooltip(e){var t=getIdOfFeature(e),a=dataById[t],n=a[currentKey],r=`\n\t\t<span>${currentGeoDataset.names.value}</span><br>\n\t\t<span style="font-size:11px; color: #111;">\n\t\t\t ${a.ADM_NAME} \n\t\t</span><hr style="height: 1px; margin: 1px">\n\t\t<span style="font-size:14px; color: red;">\n\t\t\t ${UTIL.format_number(n)} \n\t\t</span>\n\t\t<span>${currentMetaField.unit}\n\t\t</span>`,o=a?r:"Région sanitaire Inconnue",s=d3.mouse(d3.select("#map").node()).map(function(e){return parseInt(e)}),l=s[0]+5,i=s[1]+15;tooltip.classed("hidden",!1).attr("style","left:"+l+"px; top:"+i+"px").html("<center>"+o+"</center>")}function hideTooltip(){tooltip.classed("hidden",!0)}function showDetails(e){var t=getIdOfFeature(e),a=dataById[t];ui_render_details(ui_pre_render_format(a||{ADM_NAME:"Région Sanitaire Abidjan",FLD1:"n/a",FLD2:"n/a",FLD3:"n/a",FLD4:"n/a",FLD5:"n/a",FLD6:"n/a",FLD7:"n/a",FLD8:"n/a",FLD9:"n/a",FLD10:"n/a",FLD11:"n/a",FLD12:"n/a"}))}function generate_statistic_tables_ex(e,t){var a=t.class_field,n=(t.id_field,t.classes[0].value),r=t.classes[1].value,o=t.classes[0].layer,s=t.classes[1].layer,l=d3.nest().key(function(e){return e[a]}).rollup(function(e){return e}).map(e);table_1=d3.nest().key(function(e){return e.CODE}).rollup(function(e){return e[0]}).map(l[n]),table_2=d3.nest().key(function(e){return e.CODE}).rollup(function(e){return e[0]}).map(l[r]);var i={};return i[o]=table_1,i[o+"_raw"]=l[n],i[s]=table_2,i[s+"_raw"]=l[r],i}function updateGraphic(){var e=currentMetaTable,t=currentMetaField,a=currentGeoDataset;"COVID"!=e.layout&&(chartController_rass?(chartController_rass.setParams(e,t,mapData,a),chartController_rass.updateChart({duration:1500,easing:"linear"})):chartController_rass=build_RASS_chart_component(e,t,mapData,a))}function handle_mapMouseover_actions(e){metadata.layout}function get_graphic_infos(){return{x:currentKey,y:"ADM_NAME",title:currentMetaTable.label,subtitle:currentMetaField.short_name,y_unit:"District",x_unit:currentMetaField.short_name,deco_infos_1:"Ce graphique dépeint la "+currentMetaField.long_name+" par district en 2017",deco_infos_2:currentMetaTable.article+currentMetaTable.unit,deco_infos_3:currentMetaTable.article+currentMetaTable.unit,deco_source:" Généré par Atlas Santé - Source de données "+currentMetaTable.source}}function ui_updateTemplate_details(e){var t=Mustache.render(tmplt_details_virtual,e);return Mustache.parse(t),t}function ui_render_details(e){var t=Mustache.render(tmplt_rowDescription,e),a={};a.ADM_NAME=e.ADM_NAME,a.HTML_TABLE_ROWS=t;var n=Mustache.render(tmplt_details_hard,a);sysecho("detailsHtml",n),d3.select("#details").html(n),d3.select("#initial").classed("hidden",!0),d3.select("#sysinfos").classed("hidden",!0),d3.select("#details").classed("hidden",!1),dyn_width=svg.style("width"),dyn_height=svg.style("height")}function ui_render_ThematicSelectList_Component(e){var t=Mustache.render(tmplt_table_select,e);d3.select("#table_selector-wrapper").html(t),d3.select("#select-table").on("change",function(e){after_thematic_section_Changed(d3.select(this).property("value"))})}function ui_render_colorPaletteSelect(e){var t=Mustache.render(tmplt_palette_select,e);d3.select("#palette_selector-wrapper").html(t)}function ui_render_keySelectList_component(e){var t=Mustache.render(tmplt_key_select,e);d3.select("#var_selector-wrapper").html(t),d3.select("#select-key").on("change",function(e){after_selectKey_Changed(d3.select(this).property("value"))})}function ui_render_sysinfos(){var e={table:currentMetaTable,field:currentMetaField},t=Mustache.render(tmplt_sysinfos,e);d3.select("#message-box").html(t)}function ui_pre_render_format(e){return UTIL.format_number_in_object(e)}function showSysInfos(){d3.select("#details").classed("hidden",!0),d3.select("#initial").classed("hidden",!0),d3.select("#sysinfos").classed("hidden",!1)}function hideSysInfos(){d3.select("#details").classed("hidden",!0),d3.select("#initial").classed("hidden",!1),d3.select("#sysinfos").classed("hidden",!0)}function hideDetails(){d3.select("#details").classed("hidden",!0),d3.select("#initial").classed("hidden",!1),d3.select("#sysinfos").classed("hidden",!0)}function showSettings(){d3.select("#bttn-setting").classed("hidden",!0),d3.select("#setting-wrapper").classed("hidden",!1),d3.select("#barchart-wrapper").classed("hidden",!0)}function hideSettings(){d3.select("#bttn-setting").classed("hidden",!1),d3.select("#setting-wrapper").classed("hidden",!0),d3.select("#barchart-wrapper").classed("hidden",!1)}function in_geojsonfile(e){return"YES"==e.GEOLOC}function set_routes(){Router({"/action/select-palette/:color_palette":after_colorPalette_selected,"/action/test-debug/:reload_chart":histogram_draw,"/action/:start-server":start_server,"/action/:stop-server":start_server,"/action/:connect-client":start_server,"/action/app-settings":function(){},"/home":function(){}}).init()}function start_server(e){$.ajax({url:`/socket/${e}`,method:"GET",data:{time:1,user:5},success:function(e){d3.json(e,function(e){})},error:function(e){$("#socket-report").html(e.responseText)}})}function histogram_draw(){histogram.draw(),navigate("home")}function look_at(e,t){alert(e+":"+t)}function sysecho(e,t){}function bind_Scale_Selector(){$("#scale-selector .dropdown-item").on({click:function(e){$(this);var t=e.currentTarget.dataset,a={key:t.key,label:t.label};$("#current_admin_level").val(a.label)}})}theme_controller=ui_render_ThematicSelectList_Component_ex(metaDataBase.table_details,"#opera-theme-selector-1"),theme_controller.update_view(initialTable),Activate_thematic_section(initialTable),before_app_initialization=!1,set_routes(),bind_Scale_Selector(),bind_layout_reset_to_windowResize();winResizeTimerID=0,before_app_initialization=!0;var COVIDATA,badge_template='<div class="card text-center {{color_class}}">\n\t    <div class="card-body" style="padding: 0.5em;">\n\t     <span style="display: block; font-weight: 500 ;font-size: 0.9em; \n\t     padding-bottom: 0.3em; line-height: 1;"> {{label}} </span>\n\t     <span style="display: block; \n\t           font-weight: 750; \n\t           font-size: 1.5em; \n\t           padding-bottom: 0.3em;\n\t           line-height: 1;"> {{value}}\n\t             <span style="font-weight: 350; \n\t             font-weight: 500; \n\t             font-size: 0.6em; \n\t             padding-bottom: 0.3em;\n\t             line-height: 1;"> ( {{symbol}}{{delta}})\n\t      </span>\n\t \t</span>\n\t  </div>\n\t</div>';function update_badges(){var e=extract_late_datarow();function t(e,t){t.symbol=function(){return this.delta<0?"":"+"},$(e).html(Mustache.render(badge_template,t))}t("#card-1",{color_class:"badge-orange",label:"Cas confirmés",value:e.sum_case,delta:e.new_case}),t("#card-2",{color_class:"badge-yellow",label:"Cas actifs",value:e.active_case,delta:e.new_case}),t("#card-3",{color_class:"badge-red",label:"Décès",value:e.sum_deceased,delta:e.new_deceased}),t("#card-4",{color_class:"badge-green",label:"Guéris",value:e.sum_healed,delta:e.new_healed})}function extract_late_datarow(){var e=COVIDATA.length;return COVIDATA[e-1]}function USER_INTERFACE_update_layout(){opera_console.addLog("Windows resized")}var color_helper=Chart.helpers.color;fileLoad_JSON("Données épidémiologique sur le COVID-19","./data/covid-data.json",function(e){COVIDATA=e,update_badges(),build_COVID_chart_component(e),before_app_initialization=!1},function(e){alert("erreur "+e)}),Ajaxian=new function(){return{read:function(e,t,a){$.ajax({url:e,type:"get",success:function(e){t(e)},error:function(e,t,n){a(e,t,n)}})}}};